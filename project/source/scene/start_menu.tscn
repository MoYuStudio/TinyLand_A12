[gd_scene load_steps=12 format=3 uid="uid://cxs67milye0o7"]

[ext_resource type="FontFile" uid="uid://ckmyjvou4nb1f" path="res://resource/graphics/font/kenney_pixel.ttf" id="1_g161a"]
[ext_resource type="Texture2D" uid="uid://cj1fgv4cxwc8v" path="res://resource/graphics/logo/icon.png" id="1_w430s"]
[ext_resource type="PackedScene" uid="uid://ye1hxsh2ci36" path="res://source/object/world_environment.tscn" id="2_4f7yj"]
[ext_resource type="PackedScene" uid="uid://gl3daikwgbaj" path="res://source/object/gridmap.tscn" id="3_wdtul"]
[ext_resource type="PackedScene" uid="uid://bmifio0amciep" path="res://source/object/water.tscn" id="4_asjis"]

[sub_resource type="GDScript" id="GDScript_jutev"]
script/source = "
extends Control

func _ready():
	$Mask/AnimationPlayer.play('init')
	await $Mask/AnimationPlayer.animation_finished

func _process(delta):
	pass
"

[sub_resource type="Animation" id="Animation_tf50e"]
resource_name = "init"
tracks/0/type = "value"
tracks/0/imported = false
tracks/0/enabled = true
tracks/0/path = NodePath(".:modulate")
tracks/0/interp = 1
tracks/0/loop_wrap = true
tracks/0/keys = {
"times": PackedFloat32Array(0, 1),
"transitions": PackedFloat32Array(1, 1),
"update": 0,
"values": [Color(1, 1, 1, 1), Color(1, 1, 1, 0)]
}

[sub_resource type="AnimationLibrary" id="AnimationLibrary_kc2e7"]
_data = {
"init": SubResource("Animation_tf50e")
}

[sub_resource type="GDScript" id="GDScript_cf3qh"]
script/source = "
extends Button

func _ready():
	pass

func _process(delta):
	if is_pressed():
		get_tree().change_scene_to_file('res://source/scene/game.tscn')
"

[sub_resource type="GDScript" id="GDScript_1q6nd"]
script/source = "
extends Button

func _ready():
	pass

func _process(delta):
	if is_pressed():
		get_tree().change_scene_to_file('res://source/scene/setting_menu.tscn')
"

[sub_resource type="GDScript" id="GDScript_p07je"]
script/source = "
extends Button

func _ready():
	pass

func _process(delta):
	if is_pressed():
		get_tree().quit()
"

[node name="StartMenu" type="Control"]
layout_mode = 3
anchors_preset = 0
script = SubResource("GDScript_jutev")

[node name="Mask" type="ColorRect" parent="."]
offset_left = -868.0
offset_top = -514.0
offset_right = 1439.0
offset_bottom = 846.0
color = Color(0, 0, 0, 1)

[node name="AnimationPlayer" type="AnimationPlayer" parent="Mask"]
libraries = {
"": SubResource("AnimationLibrary_kc2e7")
}

[node name="Icon" type="Sprite2D" parent="."]
modulate = Color(1, 1, 1, 0.784314)
texture_filter = 1
position = Vector2(314, 77)
texture = ExtResource("1_w430s")

[node name="Title" type="Label" parent="."]
texture_filter = 1
offset_left = 231.0
offset_top = 67.0
offset_right = 415.0
offset_bottom = 118.0
theme_override_fonts/font = ExtResource("1_g161a")
theme_override_font_sizes/font_size = 64
text = "TinyLand"

[node name="Start" type="Button" parent="."]
texture_filter = 1
offset_left = 262.0
offset_top = 134.0
offset_right = 375.0
offset_bottom = 167.0
theme_override_fonts/font = ExtResource("1_g161a")
theme_override_font_sizes/font_size = 32
text = "Start"
script = SubResource("GDScript_cf3qh")

[node name="Setting" type="Button" parent="."]
texture_filter = 1
offset_left = 260.0
offset_top = 184.0
offset_right = 373.0
offset_bottom = 217.0
theme_override_fonts/font = ExtResource("1_g161a")
theme_override_font_sizes/font_size = 32
text = "Setting"
script = SubResource("GDScript_1q6nd")

[node name="Quit" type="Button" parent="."]
texture_filter = 1
offset_left = 260.0
offset_top = 233.0
offset_right = 373.0
offset_bottom = 266.0
theme_override_fonts/font = ExtResource("1_g161a")
theme_override_font_sizes/font_size = 32
text = "Quit"
script = SubResource("GDScript_p07je")

[node name="Background" type="Node3D" parent="."]

[node name="Camera" type="Camera3D" parent="Background"]
transform = Transform3D(-0.587785, 0, -0.809017, 0, 1, 0, 0.809017, 0, -0.587785, 15.7423, 12.7766, 19.7688)

[node name="WorldEnvironment" parent="Background" instance=ExtResource("2_4f7yj")]

[node name="GridMap" parent="Background" instance=ExtResource("3_wdtul")]

[node name="Water" parent="Background" instance=ExtResource("4_asjis")]
skeleton = NodePath("")
